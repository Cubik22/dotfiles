#!/bin/sh

iwctl_state="$( \
    iwctl station wlan0 show | \
    grep State | \
    awk '{ print $NF }' \
)"
if [ "$iwctl_state" = "disconnected" ]; then
    echo "iwctl already disconnected"
elif [ "$iwctl_state" = "connected" ]; then
    iwctl station wlan0 disconnect
    echo "success: iwctl disconnected"
else
    echo "error: iwctl state not recognized"
    return 1
fi
