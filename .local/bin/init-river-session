#!/bin/sh

# this script is usually run in river/init
# is spawns foot in tag 1
# firefox in tag 9
# and if firefox is composed of two tabs the second one in tag 8

pos_foot="$((1 << (1 - 1)))"
first_firefox="$((1 << (9 - 1)))"
second_firefox="$((1 << (8 - 1)))"

riverctl set-focused-tags "$second_firefox"

riverctl spawn firefox-wayland

# sleep before setting view tags otherwise window is not focused
sleep 2

riverctl set-view-tags "$first_firefox"

# sleep again for some time, river has to change the tag assigned to the window
sleep 2

riverctl set-focused-tags "$pos_foot"

riverctl spawn footclient

# load audio status
# it is done here in order to wait for pipewire to load in the backgroud
# if done before pipewire resets audio status

# set volume status to off
toggle_volume.sh off
# load volume status
# toggle_volume.sh load
