#!/bin/sh

# this script is usually run in river/init

# it spawns foot in tag 1
# firefox profiles in tag 7 8 9
# chromium in tag 5 6

# get_tags() {
#     echo "$((1 << ($1 - 1)))"
# }

# footclient_pos=1

# chromium_first_pos=6
# chromium_second_pos=5

# sleep before setting view tags otherwise window is not focused
# sleep again for some time, river has to change the tag assigned to the window

# if command -v "chromium" >/dev/null 2>&1; then
#     riverctl set-focused-tags "$(get_tags $chromium_second_pos)"
#     chromium-wayland &
#     sleep 2
#     riverctl set-view-tags "$(get_tags $chromium_first_pos)"
#     sleep 1
# fi

# firefox-spawn-all
# sleep 2

# riverctl set-focused-tags "$(get_tags $footclient_pos)"
# if running just footclient
sleep 0.5
footclient &

# load audio status
# it is done here in order to wait for pipewire to load in the backgroud
# if done before pipewire then resets audio status

# if running just footclient
sleep 2

## set audio volume
# pactl set-sink-volume @DEFAULT_SINK@ 20%
## set audio status to off
toggle-volume audio off
## load audio status
# toggle-volume audio load

## set microphone volume
pactl set-source-volume @DEFAULT_SOURCE@ 20%
## set microphone status to off
toggle-volume microphone off
## load microphone status
# toggle-volume microphone load
