#!/bin/bash

# aliasrc
# aliases for bash/zsh

# bat as manpager (set bat config)
# export MANPAGER="bat_man.sh"

# doas
alias d="doas"
alias sudo="doas"

# do not keep environment variables when su
alias su="su --login --whitelist-environment=WAYLAND_DISPLAY"

# ls
lsplus="ls --color=auto --group-directories-first --format=horizontal --human-readable"
alias ls='$lsplus'
alias la='$lsplus -a'
alias ll='$lsplus -l'
alias lal='$lsplus -a -l'
alias lla='$lsplus -l -a'
cdl () {
    cd "$@" || return
    eval "$lsplus"
}
alias trexa="exa --long --header --modified --git --tree --color=auto --icons --all --group-directories-first"

# color stuff
alias dir="dir --color=auto"
alias vdir="vdir --color=auto"
alias diff="diff --color=auto"
alias ip="ip -color=auto"
alias grep="grep --color=auto"

# ignore case
alias grepi="grep --color=auto -i"
alias rgi="rg -i"

# verbose and recursive
alias mkdir="mkdir -pv"
alias cp="cp -r"
# alias mv='mv'
# alias rm='echo "in order to move the file/directory in the trash use trash-put"; rm'
alias rmr="rm -r"

alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias cd..="cd .."
alias space="du -sh"
alias n3="nnn"
alias nv="nvim"
alias kak="kak-smart no"
alias ka="kak-smart no"
alias xq="xbps-query"
alias xs="xbps-query -s"
#alias chromium="ungoogled_chromium.sh"

# imv
alias imv="imv-wayland"

# wifi
alias iwdscan="iwctl station wlan0 scan;"

# bluetooth
alias bluescan="bluetoothctl scan on;"
alias bluectl="echo \"scan on\"; echo \"connect\"; bluetoothctl"

# human-readable sizes
alias df='df -h'
# show sizes in MB
alias free='free -m'

# ps (current processes)
alias psa="ps auxf"
alias psgrep="ps aux | grep -v grep | grep -i -e VSZ -e"
alias psmem='ps auxf | sort -nr -k 4'
alias pscpu='ps auxf | sort -nr -k 3'

# verify signature for isos
#alias gpg="gpg2"
alias gpg-check="gpg --keyserver-options auto-key-retrieve --verify"
# receive the key of a developer
alias gpg-retrieve="gpg --keyserver-options auto-key-retrieve --receive-keys"

# git related
alias gst="git status"
alias gad="git add"
alias gbr="git branch"
alias gcm="git commit"
alias gdf="git diff"
alias gfe="git fetch"
alias glg="git log"
alias gco="git checkout"
alias gps="rbw unlock; git push"
alias grb="git rebase"
alias gsa="git stash"
alias gpl="git pull"

# git config
alias ucs="ucon status"
alias uca="ucon add"
alias ucm="ucon commit -m"
alias ucp="ucon push"
alias rcs="rcon status"
alias rca="rcon add"
alias rcm="rcon commit -m"
alias rcp="rcon push"

# void mirrors in order to quickly change when one is slow (R flag)
export mirror1="https://alpha.de.repo.voidlinux.org/current/musl"
export mirror2="https://mirrors.servercentral.com/voidlinux/current/musl"
export mirror3="https://alpha.us.repo.voidlinux.org/current/musl"

# so the root can link and use bash/zsh config
if [ "$LOGNAME" = "root" ] || [ "$(id -u)" -eq 0 ]; then
    alias xbps-install="echo 'remember to add package to /etc/config'; xbps-install"
    alias xbps-remove="echo 'remember to remove package from /etc/config'; xbps-remove"
   	alias xi="echo 'remember to add package to /etc/config'; xbps-install"
    alias xr="echo 'remember to remove package from /etc/config'; xbps-remove"
	
	alias blueon="sv up bluetoothd; bluetoothctl power on;"
	alias blueoff="bluetoothctl power off; sv down bluetoothd;"

	alias servstat="sv status /var/service/*"
else
    alias xbps-install="echo 'remember to add package to /etc/config'; doas xbps-install"
    alias xbps-remove="echo 'remember to remove package from /etc/config'; doas xbps-remove"
    alias xi="echo 'remember to add package to /etc/config'; doas xbps-install"
    alias xr="echo 'remember to remove package from /etc/config'; doas xbps-remove"
	
	alias blueon="doas sv up bluetoothd; bluetoothctl power on;"
	alias blueoff="bluetoothctl power off; doas sv down bluetoothd;"

	alias servstat="doas sv status /var/service/*"

	alias poweroff="doas poweroff"
	alias reboot="doas reboot"

	alias zzz="doas zzz"
	alias ZZZ="doas ZZZ"

	alias powertop="doas powertop"

	alias dn3="doas nnn"
	alias dnv="doas nvim"
	alias dka="kak-smart yes"
fi
