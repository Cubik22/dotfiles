# envrc

#export XDG_DOCUMENTS_DIR="${HOME}/documents"
#export XDG_DOWNLOAD_DIR="${HOME}/downloads"
export XDG_CONFIG_HOME="${HOME}/.config"
export XDG_CACHE_HOME="${HOME}/.cache"
export XDG_DATA_HOME="${HOME}/.local/share"
export XDG_STATE_HOME="${HOME}/.local/state"
#export XDG_RUNTIME_DIR="/run/user/$(id -u)"
export XDG_RUNTIME_DIR="${HOME}/.local/runtime"
export ZDOTDIR="${XDG_CONFIG_HOME}/zsh"
export GNUPGHOME="${XDG_CONFIG_HOME}/gnupg"
export GTK2_RC_FILES="${XDG_CONFIG_HOME}/gtk-2.0/config"
export C_INCLUDE_PATH="${HOME}/.local/include"
export LD_LIBRARY_PATH="${HOME}/.local/lib"
export PKG_CONFIG_PATH="${HOME}/.local/lib/pkgconfig"

export MANPATH="/usr/share/man:${HOME}/.local/share/man"
export PATH="${PATH}:${HOME}/.local/bin:${HOME}/.cargo/bin"

export BROWSER=firefox
#export BROWSER="${HOME}/.local/bin/ungoogled_chromium.sh"

# set wayland environment variables and start river
if [ -z "${WAYLAND_DISPLAY}" ] && [ "$(tty)" = "/dev/tty1" ]; then
	# Cursor
	#XCURSOR_THEME=Adwaita
	#XCURSOR_SIZE=22
	
	# session and desktop
	XDG_SESSION_TYPE=wayland
	XDG_SESSION_DESKTOP=river
	XDG_CURRENT_DESKTOP=river
	DESKTOP_SESSION=river

	# for multi-gpu setup
	#WLR_DRM_DEVICES=/dev/dri/card0

	# seat management
	# seatd is more minimal
	LIBSEAT_BACKEND=seatd
	#LIBSEAT_BACKEND=logind

	# QT
	QT_QPA_PLATFORM=wayland-egl
	QT_WAYLAND_DISABLE_WINDOWDECORATION=1

	# SDL
	SDL_VIDEODRIVER=wayland

	# Clutter
	#CLUTTER_BACKEND=wayland

	# Elementary/EFL
	#ECORE_EVAS_ENGINE=wayland_egl
	#ELM_ENGINE=wayland_egl
	#ELM_DISPLAY=wl
	#ELM_ACCEL=opengl

	# Mozilla
	MOZ_ENABLE_WAYLAND=1
	# Open links in external applications in Firefox
	#MOZ_DBUS_REMOTE=1

	# needed for some Java applications
	#_JAVA_AWT_WM_NONREPARENTING=1
	
	exec river
fi
